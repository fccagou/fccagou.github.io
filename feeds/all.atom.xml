<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>The Cagou's Blog</title><link href="https://fccagou.github.io/" rel="alternate"></link><link href="https://fccagou.github.io/feeds/all.atom.xml" rel="self"></link><id>https://fccagou.github.io/</id><updated>2017-08-02T01:01:00+02:00</updated><entry><title>How to make HA GlusterFs using Keepalived</title><link href="https://fccagou.github.io/how-to-make-ha-glusterfs-using-keepalived.html" rel="alternate"></link><updated>2017-08-02T01:01:00+02:00</updated><author><name>fccagou</name></author><id>tag:fccagou.github.io,2017-08-02:how-to-make-ha-glusterfs-using-keepalived.html</id><summary type="html">&lt;p&gt;Example tested on 2 CentOS7 VM&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;! Configuration File for keepalived

vrrp_script check_glusterd {
  script       &amp;quot;/usr/sbin/pidof glusterd&amp;quot;
  interval 5
  fall 1
  rise 1
!  timeout t
!  weight w
}

global_defs {
}

vrrp_instance gfs01 {
!    state MASTER
    interface eth0
    virtual_router_id 51
    priority 100
    advert_int 1
    nopreempt
    authentication {
        auth_type PASS
        auth_pass 1111
    }
    virtual_ipaddress {
        192.168.122.100/24
    }

    track_script {
       check_glusterd
    }
}
&lt;/pre&gt;&lt;/div&gt;</summary></entry></feed>